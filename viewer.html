<!DOCTYPE html>
<html>
<head>
	<title>Simple Game Console Viewer</title>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/phaser/2.0.6/phaser.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
</head>
<body>
	<script type="text/javascript">

		window.onload = function() {
			var socket = io();
			socket.on('move', function(msg){
				console.log('move: ' + msg);
				if (msg === 'up') 
				{
					mario.y -= 30;
				}
				if (msg === 'down') 
				{
					mario.y += 30;
				}
				if (msg === 'left') 
				{
					mario.x -= 30;
				}
				if (msg === 'right') 
				{
					mario.x += 30;
				}
			});

			var game = new Phaser.Game(800, 600, Phaser.AUTO, '', {preload: preload, create: create, update: update, render: render});

			var mario;

			function preload() {
				game.load.image('mario', 'assets/mario.png');
			}

			function create() {
				mario = game.add.sprite(300, 200, 'mario');
				mario.anchor.setTo(0.5, 0.5);
			}

			function update() {
			}

			function render() {
			}
		};

	</script>
</body>
</html>